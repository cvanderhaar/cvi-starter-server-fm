<!--
   Copyright 2019 IBM Corp. All Rights Reserved.

   Licensed under the IBM License, a copy of which may be obtained at:

   http://www14.software.ibm.com/cgi-bin/weblap/lap.pl?li_formnum=L-DDIN-AHKPKY&popup=n&title=IBM%20IoT%20for%20Automotive%20Sample%20Starter%20Apps%20%28Android-Mobile%20and%20Server-all%29

   You may not use this file except in compliance with the license.
-->
<Rules>
<VehicleActionRule>
		<RuleID>{alert_rule_id}</RuleID>
		<RuleType>{alert_rule_id}</RuleType>
  	<Name>Geofence rule for approaching destination</Name>
   	<Description></Description>
		<Condition pattern="geofence">
			<LocationCondition range="in">
				<CenterLatitude object="Vehicle">DEST_LAT</CenterLatitude>
				<CenterLongitude object="Vehicle">DEST_LON</CenterLongitude>
				<Radius>500</Radius>
			</LocationCondition>
		</Condition>
	  <Action>
      <VehicleAction>
				<Message>Approaching the destination</Message>
				<Parameter><Key>mo_id</Key><Value>CarProbe.Vehicle_id_ext</Value></Parameter>
				<Parameter><Key>message_type</Key><Value>geofence</Value></Parameter>
				<Parameter><Key>source_id</Key><Value>CarProbe.Vehicle_id_ext</Value></Parameter>
				<Parameter><Key>timestamp</Key><Value>CarProbe.timestamp</Value></Parameter>
				<Parameter><Key>ts</Key><Value>CarProbe.ts</Value></Parameter>
      </VehicleAction>
  	</Action>
	</VehicleActionRule>
</Rules>
